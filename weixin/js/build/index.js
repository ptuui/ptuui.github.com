/**
* 2016-05-10
* @yifenqi@creditease.cn
* @site http://www.yifenqi.com
*/
"use strict";function isPc(){for(var a=navigator.userAgent,b=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),c=!0,d=0;d<b.length;d++)if(a.indexOf(b[d])>0){c=!1;break}return a.indexOf("iPhone")>0&&(animateFrame=30),c}function requireCheck(a,b){for(var c,d,e=a.length,f=0;e>f;f++)if(!requireConfig[a[f]].loaded){c=requireConfig[a[f]].url,d=a[f];break}c?require(c,function(){requireConfig[d].loaded=1;for(var c=0;e>c;c++)if(!requireConfig[a[c]].loaded)return void requireCheck(a,b);b()}):b()}function render(){var a=window.location.href.split("#");nowLocation=window.location.href,routeFrom=a[1]||defaultPage,routeTo=a[2],aDrection=a[3],ReactDOM.render(React.createElement(Route,null),document.body)}var jsDir="js/build/",dirRand=Math.random(),requireConfig={about:{url:[jsDir+"page/about.js?"+dirRand]},home:{url:[jsDir+"page/home.js?"+dirRand]},installmentRegister:{url:[jsDir+"page/installmentRegister.js?"+dirRand]},selectIdCard:{url:[jsDir+"page/selectIdCard.js?"+dirRand]},checkIdCard:{url:[jsDir+"page/checkIdCard.js?"+dirRand]},backBar:{url:[jsDir+"component/backBar.js?"+dirRand]}},allList=[];for(var k in requireConfig)allList.push(k);var animateFrame=50,screenWidth=window.screen.availWidth,scale=1,mainWrapStyle={};isPc()?(mainWrapStyle={width:"320px",height:"640px",overflow:"hidden"},screenWidth=320):scale=320/screenWidth;var Route=React.createClass({displayName:"Route",getInitialState:function(){return{loaded:0}},componentDidMount:function(){this.loadInit();var a=this;window.onhashchange=function(){a.link(window.location.href)}},loadInit:function(){var a=[];routeFrom?a.push(routeFrom):!1,routeTo?a.push(routeTo):!1,requireCheck(a,this.init)},init:function(){switch(ChildFrom=0,ChildTo=0,routeFrom){case"about":ChildFrom=About;break;case"home":ChildFrom=Home;break;case"installmentRegister":ChildFrom=InstallmentRegister;break;case"selectIdCard":ChildFrom=SelectIdCard;break;case"checkIdCard":ChildFrom=CheckIdCard;break;default:ChildFrom=Home}switch(routeTo){case"about":ChildTo=About;break;case"home":ChildTo=Home;break;case"installmentRegister":ChildTo=InstallmentRegister;break;case"selectIdCard":ChildTo=SelectIdCard;break;case"checkIdCard":ChildTo=CheckIdCard}ChildTo?(showPage=routeTo,this.animate()):(showPage=routeFrom,this.setState({loaded:1}))},animate:function(){var a,b,c,d=this;aDrection?(a=0,b=-screenWidth,c=vvGetAnimateData(0,screenWidth,animateFrame)):(a=0,b=screenWidth,c=vvGetAnimateData(0,-screenWidth,animateFrame));var e=0;this.acNum=0,this.fps=100,this.fps=parseInt(1e3/this.fps,10),clearInterval(this.ev),d.animateFinish=0,this.ev=setInterval(function(){e-=d.fps,a=c[d.acNum],b=c[d.acNum],aDrection?(d.fromStyle={left:a+"px"},d.toStyle={left:-screenWidth+b+"px"}):(d.fromStyle={left:a+"px"},d.toStyle={left:screenWidth+b+"px"}),d.acNum>=c.length&&(clearInterval(d.ev),d.animateFinish=1),d.setState({loaded:1}),d.acNum++},10)},link:function(a){clearInterval(this.ev);var b=a.split("#");routeFrom=b[1],routeTo=b[2],aDrection=b[3],this.loadInit(),historyLocation=nowLocation,nowLocation=a},render:function(){return this.state.loaded?ChildTo?this.animateFinish?React.createElement("div",{ref:"mainWrap",className:"mainWrap",style:mainWrapStyle},React.createElement(ChildTo,{link:this.link,style:this.toStyle})):React.createElement("div",{ref:"mainWrap",className:"mainWrap",style:mainWrapStyle},React.createElement(ChildFrom,{link:this.link,style:this.fromStyle}),React.createElement(ChildTo,{link:this.link,style:this.toStyle})):React.createElement("div",{ref:"mainWrap",className:"mainWrap",style:mainWrapStyle},React.createElement(ChildFrom,{link:this.link})):React.createElement("div",null)}}),ChildFrom,ChildTo,routeFrom,routeTo,aDrection,defaultPage="home",historyPage=defaultPage,showPage=defaultPage,nowLocation,historyLocation;render();